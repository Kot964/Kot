import streamlit as st
import random

st.set_page_config(page_title="–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–æ–º–µ—Ä–æ–≤ –†–§", page_icon="üì±")

st.title("üì± –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤")

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –∏—Ö DEF-–∫–æ–¥–æ–≤
region_def_codes = dict({
    "–ú–æ—Å–∫–≤–∞ –∏ –ú–û (UTC+3)": ["910", "915", "916", "917", "919", "980", "985", "986", "989"],
    "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –∏ –õ–û (UTC+3)": ["921", "931"],
    "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª. (UTC+7)": ["913", "923"],
    "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π (UTC+7)": ["902", "933"],
    "–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π (UTC+10)": ["962"],
    "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+5)": ["912", "922"],
    "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª. (UTC+5)": ["900", "908"],
    "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["938", "928"],
    "–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª. (UTC+2)": ["911", "931"],
    "–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª. (UTC+4)": ["927", "937"],
    "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω (UTC+5)": ["917", "927"],
    "–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω (UTC+3)": ["917", "927"],
    "–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["831", "920"],
    "–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["473", "920"],
    "–û–º—Å–∫–∞—è –æ–±–ª. (UTC+6)": ["381", "950"],
    "–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π (UTC+5)": ["342", "902"],
    "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π (UTC+10)": ["423", "902"],
    "–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+4)": ["845", "927"],
    "–¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª. (UTC+5)": ["345", "922"],
    "–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+4)": ["842", "927"],
    "–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª. (UTC+8)": ["395", "964"],
    "–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["485", "920"],
    "–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+7)": ["384", "923"],
    "–¢–æ–º—Å–∫–∞—è –æ–±–ª. (UTC+7)": ["382", "923"],
    "–ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π (UTC+7)": ["385", "902"],
    "–ê–º—É—Ä—Å–∫–∞—è –æ–±–ª. (UTC+9)": ["416", "914"],
    "–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["818", "921"],
    "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª. (UTC+4)": ["851", "927"],
    "–ë–µ–ª–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["472", "920"],
    "–ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["483", "920"],
    "–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["492", "920"],
    "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["844", "904"],
    "–í–æ–ª–æ–≥–æ–¥—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["817", "921"],
    "–ò–≤–∞–Ω–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["493", "920"],
    "–ò–Ω–≥—É—à–µ—Ç–∏—è (UTC+3)": ["873", "901"],
    "–ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä—Å–∫–∞—è –†–µ—Å–ø. (UTC+3)": ["866", "901"],
    "–ö–∞–ª–º—ã–∫–∏—è (UTC+3)": ["847", "901"],
    "–ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø. (UTC+3)": ["878", "901"],
    "–ö–∞—Ä–µ–ª–∏—è (UTC+3)": ["814", "921"],
    "–ö–∏—Ä–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["833", "912"],
    "–ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["494", "920"],
    "–ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª. (UTC+5)": ["352", "912"],
    "–ö—É—Ä—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["471", "920"],
    "–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª. (UTC+3)": ["474", "920"],
    "–ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª. (UTC+11)": ["413", "914"],
    "–ú–∞—Ä–∏–π –≠–ª (UTC+3)": ["836", "902"],
    "–ú–æ—Ä–¥–æ–≤–∏—è (UTC+3)": ["834", "902"],
    "–ù–µ–Ω–µ—Ü–∫–∏–π –ê–û (UTC+3)": ["818", "921"],
    "–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["816", "921"],
    "–û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["486", "920"],
    "–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["841", "902"],
    "–ü—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["811", "921"],
    "–°–∞—Ö–∞–ª–∏–Ω—Å–∫–∞—è –æ–±–ª. (UTC+11)": ["424", "914"],
    "–°–µ–≤–µ—Ä–Ω–∞—è –û—Å–µ—Ç–∏—è (UTC+3)": ["867", "901"],
    "–°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["481", "920"],
    "–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π (UTC+3)": ["865", "962"],
    "–¢–∞–º–±–æ–≤—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["475", "920"],
    "–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["482", "920"],
    "–¢—É–ª—å—Å–∫–∞—è –æ–±–ª. (UTC+3)": ["487", "920"],
    "–•–∞–∫–∞—Å–∏—è (UTC+7)": ["390", "923"],
    "–ß–µ—á–µ–Ω—Å–∫–∞—è –†–µ—Å–ø. (UTC+3)": ["871", "901"],
    "–ß—É–≤–∞—à–∏—è (UTC+3)": ["835", "902"],
    "–Ø–∫—É—Ç–∏—è (UTC+9)": ["411", "914"],
    "–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –ê–û (UTC+5)": ["349", "912"]
})

selected_regions = st.multiselect("–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω(—ã) / —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å:", options=list(region_def_codes.keys()), default=list(region_def_codes.keys())[:5])
count = st.number_input("–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–º–µ—Ä–æ–≤", min_value=1, max_value=1000000, value=1000)


def generate_rf_numbers(count, def_codes):
    numbers = []
    for _ in range(count):
        def_code = random.choice(def_codes)
        number = '7' + def_code + ''.join(str(random.randint(0, 9)) for _ in range(7))
        numbers.append(number)
    return numbers

if st.button("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"):
    selected_def_codes = []
    for region in selected_regions:
        selected_def_codes.extend(region_def_codes.get(region, []))

    if not selected_def_codes:
        st.error("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ä–µ–≥–∏–æ–Ω")
    else:
        numbers = generate_rf_numbers(count, selected_def_codes)
        st.success(f"–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ {count} –Ω–æ–º–µ—Ä–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–µ–≥–∏–æ–Ω–∞–º")
        st.code('\n'.join(numbers[:10]), language='text')

        txt = '\n'.join(numbers)
        st.download_button(
            label="üì• –°–∫–∞—á–∞—Ç—å .txt —Ñ–∞–π–ª",
            data=txt,
            file_name="rf_numbers.txt",
            mime="text/plain"
        )
